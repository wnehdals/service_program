<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>좋은 부모가 되기 위한 API - Be A Good Parents</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="/static/vendor/bootstrap/css/bootstrap.css">

    <!-- Custom styles for this template -->
    <link href="static/css/modern-business.css" rel="stylesheet">
    <style>
        .text-stroke {
            color: white;
            text-shadow: -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
        }
    </style>
</head>

<body>
<!-- Navigation -->
<nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="index.html">Be a good parents</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="about.html">API Document</a>
                </li>
            </ul>
        </div>
    </div>
</nav>


<!-- Page Content -->
<div class="container">

    <!-- Page Heading/Breadcrumbs -->
    <h1 class="mt-4 mb-3">검색 API
    </h1>

    <div class="row">
        <div class="col-lg-12 my-4">
            <h4>요청 URL</h4>
            <ht>URL : http://127.0.0.1:5000/search/{cityCode}</ht>
            <h4>요청 형식</h4>
            <table class="table">
                <thead class="thead-light">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">항목명</th>
                    <th scope="col">항목구분</th>
                    <th scope="col">항목설명</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th scope="row">1</th>
                    <td>pageNum</td>
                    <td>필수</td>
                    <td>도시 코드</td>
                </tr>
                </tbody>
            </table>
            <h4>응답 형식</h4>
            <table class="table">
                <thead class="thead-light">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">항목명</th>
                    <th scope="col">항목구분</th>
                    <th scope="col">항목설명</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th scope="row">1</th>
                    <td>title</td>
                    <td>필수</td>
                    <td>축제/행사 이름</td>
                </tr>
                <tr>
                    <th scope="row">2</th>
                    <td>img</td>
                    <td>필수</td>
                    <td>대표사진</td>
                </tr>
                <tr>
                    <th scope="row">3</th>
                    <td>contentId</td>
                    <td>필수</td>
                    <td>id</td>
                </tr>
                <tr>
                    <th scope="row">4</th>
                    <td>overview</td>
                    <td>필수</td>
                    <td>축제/행사 내용</td>
                </tr>
                <tr>
                    <th scope="row">5</th>
                    <td>startDate</td>
                    <td>필수</td>
                    <td>축제/행사 시작일</td>
                </tr>
                <tr>
                    <th scope="row">6</th>
                    <td>endDate</td>
                    <td>필수</td>
                    <td>축제/행사 마감일</td>
                </tr>
                <tr>
                    <th scope="row">6</th>
                    <td>addr</td>
                    <td>필수</td>
                    <td>주소</td>
                </tr>
                </tbody>
            </table>
            <form role="form">
                <div class="form-group">
                    <label for="festival_input">도시 코드</label>
                    <input type="number" id="festival_city_input" class="form-control">
                    <small class="form-text form-muted">도시코드를 번호를 입력해주세요.</small>
                </div>
                <div class="form-group">
                    <textarea id="festival_output" class="form-control" rows="10" readonly="true"></textarea>
                    <button class="btn btn-primary btn-block" type="button" onclick="getFestivalInfo()">API 모의 요청 및 결과
                        확인
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="py-5 bg-dark">
    <div class="container">
        <p class="m-0 text-center text-white">Copyright &copy; Your Website 2020</p>
    </div>
    <!-- /.container -->
</footer>

<!-- Bootstrap core JavaScript -->
<script src="https:ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript" src="/static/vendor/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript">
    function getFestivalInfo() {
        festivalCityCode = document.getElementById('festival_city_input').value
        var url = 'http://127.0.0.1:5000/festival'
        if (festivalCityCode!= ""){
            url = url + '/'  + String(festivalCityCode)
        }


        console.log(url)
        fetch(url)
            .then(response => response.text())
            .then((data) => {
                document.getElementById('festival_output').value = data
                console.log(data)
            })
    }
</script>
</body>

</html>
